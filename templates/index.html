{% extends "base.html" %}

{% block title %}Report Overview{% endblock %}

{% block content %}
<section>
    <h1>ğŸ“Š Report Overview</h1>

    <div class="overview-container">
        {% if enabled_checks.dependencies and dependencies_summary %}
            <div class="card">
                <h2>ğŸ“¦ Dependencies</h2>
                <div class="mb-20">
                    <div class="count">{{ dependencies_summary.nbRepos }}</div>
                    <div class="label">Repositories scanned</div>
                </div>
                <a href="dependencies_report.html" class="badge {{ 'badge-error' if dependencies_summary.total > 0 else 'badge-success' }}">
                    <strong>{{ dependencies_summary.total }}</strong> {{ dependencies_summary.total | pluralize('vulnerability') }}
                </a>
            </div>
        {% endif %}

        {% if enabled_checks.code and code_summary %}
            <div class="card">
                <h2>ğŸ“ Code</h2>
                <div class="mb-20">
                    <div class="count">{{ code_summary.nbRepos }}</div>
                    <div class="label">Repositories scanned</div>
                </div>

                <a href="code_report.html" class="badge {{ 'badge-error' if code_summary.total > 0 else 'badge-success' }}">
                    <strong>{{ code_summary.total }}</strong> {{ code_summary.total | pluralize('vulnerability') }}
                </a>
            </div>
        {% endif %}

        {% if enabled_checks.domains and domains_summary %}
            <div class="card">
                <h2>ğŸŒ Domains</h2>
                <div class="mb-20">
                    <div class="count">{{ domains_summary.nbDomains }}</div>
                    <div class="label">Domains scanned</div>
                </div>

                <a href="domains_report.html" class="badge {{ 'badge-error' if domains_summary.total > 0 else 'badge-success' }}">
                    <strong>{{ domains_summary.total }}</strong> {{ domains_summary.total | pluralize('vulnerability') }}
                </a>
            </div>
        {% endif %}
    </div>
</section>
{% endblock %}
